package com.ugoodtech.umi.core.utils;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

import sun.misc.BASE64Decoder;
import sun.misc.BASE64Encoder;

public class Base64ConvertImageUtil {

	/**
	 * 
	 * @title: GetImageStr
	 * @description: 图片转化成base64字符串
	 * @return
	 */
	public static String getImageToBase64(String imgPath) {// 将图片文件转化为字节数组字符串，并对其进行Base64编码处理
		InputStream in = null;
		byte[] data = null;
		// 读取图片字节数组
		try {
			in = new FileInputStream(imgPath);
			data = new byte[in.available()];
			in.read(data);
			in.close();
		} catch (IOException e) {
			e.printStackTrace();
		}
		// 对字节数组Base64编码
		BASE64Encoder encoder = new BASE64Encoder();
		return encoder.encode(data);// 返回Base64编码过的字节数组字符串
	}

	/**
	 * 
	 * @title: GenerateImage
	 * @description: base64字符串转化成图片
	 * @param imgStr
	 * @return
	 */
	public static boolean generateImageFromBase64(String imgStr,
			String imgFilePath) { // 对字节数组字符串进行Base64解码并生成图片
		if (imgStr == null) // 图像数据为空
        {
            return false;
        }
		BASE64Decoder decoder = new BASE64Decoder();
		OutputStream out = null;
		try {
			// Base64解码
			byte[] buffer = decoder.decodeBuffer(imgStr);
			for (int i = 0; i < buffer.length; ++i) {
				if (buffer[i] < 0) {// 调整异常数据
					buffer[i] += 256;
				}
			}
			// 生成jpeg图片
			out = new FileOutputStream(imgFilePath);
			out.write(buffer);
			return true;
		} catch (Exception e) {
			e.printStackTrace();
			return false;
		} finally {
			try {
				out.flush();
				out.close();
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
	}

	public static void main(String[] args) {
		// 测试从Base64编码转换为图片文件
		String strImg = "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";
		GenerateImage(strImg, "e:\\ss.jpg");
	}
	public static boolean GenerateImage(String imgStr, String imgFilePath) {// 对字节数组字符串进行Base64解码并生成图片
		if (imgStr == null) // 图像数据为空
        {
            return false;
        }
		BASE64Decoder decoder = new BASE64Decoder();
		try {
			// Base64解码
			byte[] bytes = decoder.decodeBuffer(imgStr);
			for (int i = 0; i < bytes.length; ++i) {
				if (bytes[i] < 0) {// 调整异常数据
					bytes[i] += 256;
				}
			}
			// 生成jpeg图片
			OutputStream out = new FileOutputStream(imgFilePath);
			out.write(bytes);
			out.flush();
			out.close();
			return true;
		} catch (Exception e) {
			return false;
		}
	}
}
